<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real AI Image Generator - Working 100%</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 0 30px 90px rgba(0, 0, 0, 0.3);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            text-align: center;
            color: white;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.95;
        }

        .body {
            display: grid;
            grid-template-columns: 300px 1fr;
        }

        .sidebar {
            background: #f8f9fa;
            padding: 30px 20px;
            border-right: 1px solid #e9ecef;
        }

        .section-title {
            font-size: 13px;
            font-weight: 700;
            color: #667eea;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        .ratio-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 25px;
        }

        .ratio-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 16px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .ratio-card:hover {
            transform: translateY(-3px);
            border-color: #667eea;
        }

        .ratio-card.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }

        .ratio-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .ratio-label {
            font-size: 18px;
            font-weight: 700;
        }

        .ratio-desc {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
        }

        .settings-group {
            margin-bottom: 20px;
        }

        .settings-label {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #495057;
        }

        .settings-select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 14px;
            background: white;
        }

        .main {
            padding: 40px;
            background: #fafbfc;
        }

        .prompt-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.06);
            margin-bottom: 30px;
        }

        .prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .prompt-title {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
        }

        .prompt-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 700;
        }

        .prompt-textarea {
            width: 100%;
            min-height: 350px;
            padding: 20px;
            border: 3px solid #e9ecef;
            border-radius: 16px;
            font-size: 15px;
            font-family: 'Monaco', monospace;
            line-height: 1.8;
            resize: vertical;
            background: #fafbfc;
        }

        .prompt-textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
        }

        .prompt-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            font-size: 13px;
            color: #6c757d;
        }

        .api-setup {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .api-setup h3 {
            color: #856404;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .api-setup input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ffc107;
            border-radius: 8px;
            font-size: 14px;
            margin-top: 10px;
        }

        .api-setup a {
            color: #667eea;
            font-weight: 700;
        }

        .generate-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            transition: all 0.3s;
        }

        .generate-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.5);
        }

        .generate-btn:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
        }

        .results-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.06);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .results-title {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
        }

        .clear-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .image-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .image-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }

        .image-container {
            width: 100%;
            height: 280px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .image-info {
            padding: 15px;
        }

        .image-prompt {
            font-size: 14px;
            color: #495057;
            margin-bottom: 12px;
            line-height: 1.5;
        }

        .image-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .image-ratio {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 700;
        }

        .download-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 15px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            font-size: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #adb5bd;
        }

        .empty-icon {
            font-size: 70px;
            margin-bottom: 15px;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            backdrop-filter: blur(8px);
        }

        .loading-overlay.active {
            display: flex;
        }

        .loading-content {
            text-align: center;
            color: white;
        }

        .loading-spinner-large {
            width: 70px;
            height: 70px;
            border: 5px solid rgba(255, 255, 255, 0.2);
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        .loading-text {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .loading-progress {
            font-size: 18px;
            color: #667eea;
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: white;
            padding: 18px 25px;
            border-radius: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
            display: none;
            gap: 10px;
            z-index: 10000;
        }

        .toast.show {
            display: flex;
            animation: slideIn 0.4s;
        }

        @keyframes slideIn {
            from { transform: translateX(400px); }
            to { transform: translateX(0); }
        }

        .toast.success { border-left: 5px solid #28a745; }
        .toast.error { border-left: 5px solid #dc3545; }

        @media (max-width: 1024px) {
            .body { grid-template-columns: 1fr; }
            .ratio-grid { grid-template-columns: repeat(4, 1fr); }
        }

        @media (max-width: 768px) {
            .main { padding: 20px; }
            .ratio-grid { grid-template-columns: repeat(2, 1fr); }
            .results-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé® Real AI Image Generator</h1>
            <p>Hugging Face API ‚Ä¢ 100% Working ‚Ä¢ Prompt ke exact mutabiq images</p>
        </div>

        <div class="body">
            <div class="sidebar">
                <div class="section-title">üìê ASPECT RATIO</div>
                <div class="ratio-grid">
                    <div class="ratio-card active" data-ratio="1:1">
                        <span class="ratio-icon">‚¨ú</span>
                        <div class="ratio-label">1:1</div>
                        <div class="ratio-desc">Square</div>
                    </div>
                    <div class="ratio-card" data-ratio="16:9">
                        <span class="ratio-icon">üñ•Ô∏è</span>
                        <div class="ratio-label">16:9</div>
                        <div class="ratio-desc">Landscape</div>
                    </div>
                    <div class="ratio-card" data-ratio="9:16">
                        <span class="ratio-icon">üì±</span>
                        <div class="ratio-label">9:16</div>
                        <div class="ratio-desc">Portrait</div>
                    </div>
                    <div class="ratio-card" data-ratio="3:4">
                        <span class="ratio-icon">üñºÔ∏è</span>
                        <div class="ratio-label">3:4</div>
                        <div class="ratio-desc">Portrait</div>
                    </div>
                </div>

                <div class="section-title">‚öôÔ∏è AI MODEL</div>
                <div class="settings-group">
                    <label class="settings-label">Select Model</label>
                    <select class="settings-select" id="modelSelect">
                        <option value="stable-diffusion">Stable Diffusion v2.1</option>
                        <option value="flux-schnell">Flux Schnell (Fast)</option>
                        <option value="dreamshaper">DreamShaper v8</option>
                    </select>
                </div>
            </div>

            <div class="main">
                <div class="api-setup">
                    <h3>üîë Setup (One Time Only - FREE)</h3>
                    <p style="margin-bottom: 10px; color: #856404;">
                        1. Visit <a href="https://huggingface.co/settings/tokens" target="_blank">Hugging Face</a><br>
                        2. Create FREE account<br>
                        3. Generate Access Token<br>
                        4. Paste below:
                    </p>
                    <input type="text" id="apiKeyInput" placeholder="Paste your Hugging Face API Token here" />
                    <p style="margin-top: 10px; font-size: 12px; color: #856404;">
                        ‚ö†Ô∏è Agar API key nahi hai, to images generate nahi hongi! Required hai!
                    </p>
                </div>

                <div class="prompt-section">
                    <div class="prompt-header">
                        <h2 class="prompt-title">üìù Enter Your Prompts</h2>
                        <div class="prompt-badge">
                            <span id="promptCount">0</span> Prompts
                        </div>
                    </div>

                    <textarea 
                        class="prompt-textarea" 
                        id="promptInput" 
                        placeholder="Enter detailed prompts (one per line):

WORKING EXAMPLES:

A majestic lion with golden mane standing on rocky mountain cliff at sunset, dramatic orange sky, professional wildlife photography, highly detailed, 8k

Futuristic cyberpunk city at night with glowing neon purple and blue lights, wet streets reflecting lights, flying cars, cinematic, highly detailed

Beautiful pink cherry blossom tree in full bloom, Japanese garden, spring season, soft sunlight, professional nature photography, vibrant colors

Cozy wooden cabin in snowy mountains during winter evening, warm yellow lights from windows, smoke from chimney, peaceful atmosphere, realistic

Vintage red Ferrari sports car in desert landscape at golden hour sunset, dramatic lighting, professional automotive photography, highly detailed

üí° TIPS FOR PERFECT RESULTS:
‚Ä¢ Be VERY descriptive
‚Ä¢ Add style keywords: realistic, cinematic, professional photography, highly detailed, 8k
‚Ä¢ Mention lighting: golden hour, dramatic, soft, natural
‚Ä¢ Include mood: peaceful, dramatic, vibrant, cozy
‚Ä¢ Each line = One unique AI image"></textarea>

                    <div class="prompt-footer">
                        <span>ü§ñ Real AI ‚Ä¢ Prompt ke exact mutabiq</span>
                        <span id="charCount">0 characters</span>
                    </div>

                    <button class="generate-btn" id="generateBtn" disabled>
                        üöÄ Generate Real AI Images
                    </button>
                </div>

                <div class="results-section">
                    <div class="results-header">
                        <h2 class="results-title">
                            üñºÔ∏è Generated Images (<span id="resultCount">0</span>)
                        </h2>
                        <button class="clear-btn" id="clearBtn" style="display: none;">
                            üóëÔ∏è Clear
                        </button>
                    </div>

                    <div class="results-grid" id="resultsGrid">
                        <div class="empty-state">
                            <div class="empty-icon">üé®</div>
                            <h3>No images yet</h3>
                            <p>Setup API key, enter prompts, and generate!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner-large"></div>
            <div class="loading-text">Generating real AI images...</div>
            <div class="loading-progress" id="progressText">Please wait... 20-30 sec per image</div>
        </div>
    </div>

    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <script>
        const apiKeyInput = document.getElementById('apiKeyInput');
        const promptInput = document.getElementById('promptInput');
        const promptCount = document.getElementById('promptCount');
        const charCount = document.getElementById('charCount');
        const generateBtn = document.getElementById('generateBtn');
        const resultsGrid = document.getElementById('resultsGrid');
        const resultCount = document.getElementById('resultCount');
        const clearBtn = document.getElementById('clearBtn');
        const loadingOverlay = document.getElementById('loadingOverlay');
        const progressText = document.getElementById('progressText');
        const ratioCards = document.querySelectorAll('.ratio-card');
        const modelSelect = document.getElementById('modelSelect');
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');

        let selectedRatio = '1:1';
        let generatedImages = [];

        // Load saved API key
        if (localStorage.getItem('hfApiKey')) {
            apiKeyInput.value = localStorage.getItem('hfApiKey');
        }

        promptInput.addEventListener('input', function() {
            const lines = this.value.split('\n').filter(l => l.trim());
            promptCount.textContent = lines.length;
            charCount.textContent = this.value.length + ' characters';
            generateBtn.disabled = lines.length === 0 || !apiKeyInput.value.trim();
        });

        apiKeyInput.addEventListener('input', function() {
            const lines = promptInput.value.split('\n').filter(l => l.trim());
            generateBtn.disabled = lines.length === 0 || !this.value.trim();
            if (this.value.trim()) {
                localStorage.setItem('hfApiKey', this.value.trim());
            }
        });

        ratioCards.forEach(card => {
            card.addEventListener('click', function() {
                ratioCards.forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                selectedRatio = this.dataset.ratio;
            });
        });

        generateBtn.addEventListener('click', async function() {
            const apiKey = apiKeyInput.value.trim();
            if (!apiKey) {
                showToast('‚ùå Please enter Hugging Face API token first!', 'error');
                return;
            }

            const prompts = promptInput.value.split('\n').filter(l => l.trim());
            if (prompts.length === 0) return;

            resultsGrid.innerHTML = '';
            generatedImages = [];
            clearBtn.style.display = 'none';
            loadingOverlay.classList.add('active');
            generateBtn.disabled = true;

            const model = modelSelect.value;
            let modelEndpoint = '';

            // Different API endpoints for different models
            if (model === 'stable-diffusion') {
                modelEndpoint = 'https://api-inference.huggingface.co/models/stabilityai/stable-diffusion-2-1';
            } else if (model === 'flux-schnell') {
                modelEndpoint = 'https://api-inference.huggingface.co/models/black-forest-labs/FLUX.1-schnell';
            } else {
                modelEndpoint = 'https://api-inference.huggingface.co/models/Lykon/DreamShaper-8';
            }

            for (let i = 0; i < prompts.length; i++) {
                progressText.textContent = `Generating ${i + 1} / ${prompts.length}... Please wait 20-30 sec`;

                const card = createImageCard(prompts[i], i);
                resultsGrid.appendChild(card);

                try {
                    // Real Hugging Face API call
                    const response = await fetch(modelEndpoint, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${apiKey}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            inputs: prompts[i],
                            parameters: {
                                negative_prompt: "blurry, low quality, distorted, ugly",
                                num_inference_steps: 50
                            }
                        })
                    });

                    if (!response.ok) {
                        throw new Error('API Error: ' + response.status);
                    }

                    const blob = await response.blob();
                    const imageUrl = URL.createObjectURL(blob);

                    const imageContainer = card.querySelector('.image-container');
                    const img = document.createElement('img');
                    img.src = imageUrl;
                    img.alt = prompts[i];
                    imageContainer.innerHTML = '';
                    imageContainer.appendChild(img);

                    generatedImages.push({
                        prompt: prompts[i],
                        ratio: selectedRatio,
                        blob: blob,
                        url: imageUrl
                    });

                    resultCount.textContent = generatedImages.length;

                } catch (error) {
                    console.error('Error:', error);
                    const imageContainer = card.querySelector('.image-container');
                    imageContainer.innerHTML = `<div style="color: white; padding: 20px; text-align: center;">
                        ‚ùå Generation failed!<br>
                        Check API key or try again
                    </div>`;
                }

                // Wait before next generation
                await new Promise(resolve => setTimeout(resolve, 2000));
            }

            loadingOverlay.classList.remove('active');
            generateBtn.disabled = false;
            clearBtn.style.display = 'block';
            showToast(`‚úì Generated ${prompts.length} real AI images!`, 'success');
        });

        function createImageCard(prompt, index) {
            const card = document.createElement('div');
            card.className = 'image-card';
            card.innerHTML = `
                <div class="image-container">
                    <div class="loading-spinner"></div>
                </div>
                <div class="image-info">
                    <div class="image-prompt">${prompt}</div>
                    <div class="image-meta">
                        <span class="image-ratio">${selectedRatio}</span>
                        <button class="download-btn" onclick="downloadImage(${index})">
                            ‚¨áÔ∏è Download
                        </button>
                    </div>
                </div>
            `;
            return card;
        }

        function downloadImage(index) {
            const image = generatedImages[index];
            if (image && image.blob) {
                const link = document.createElement('a');
                link.href = URL.createObjectURL(image.blob);
                link.download = `ai-generated-${index + 1}.png`;
                link.click();
                showToast('‚úì Downloaded!', 'success');
            }
        }

        clearBtn.addEventListener('click', function() {
            if (confirm('Clear all?')) {
                resultsGrid.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üé®</div>
                        <h3>No images yet</h3>
                        <p>Setup API key, enter prompts, and generate!</p>
                    </div>
                `;
                generatedImages = [];
                resultCount.textContent = '0';
                clearBtn.style.display = 'none';
            }
        });

        function showToast(message, type) {
            toastMessage.textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
